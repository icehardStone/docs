# 微服务学后问题

## 微服务，什么是微服务或者对微服务的理解。

微服务是一种云原生软件架构方法，是将一个大型的，复杂的软件程序拆分成许多个负责单一的或者一部分业务功能的小的模块，这些模块相互协作共同实现系统的整体的功能。
每个模块可以独立开发，独立部署。

使用微服务架构相较于单一软件的优点:

* 各个单一的服务可以采用最适合的语言进行开发
* 每个组件的通信方式是处于一种轻量级的方式。
* 可以更加灵活的更细代码，进行迭代。
* 更加松散的接口，耦合性较低
* 各个组件之间可以更加灵活的收缩。

<!-- 软件开发的四个困难:
* 不可见 （Unvisiable）
-->

## 微服务的缺点

* 微服务架构带来系统架构的复杂性。
* 会有过多的运维操作，需要一定的DevOps技能。

## 集群模式

为了应对大规模流量访问，把一个单体的程序同时部署在多台服务器上产生一堆节点，然后再利用诸如nginx这类的代理工具，利用一种的负载均衡的算法，将请求分发到不同的节点上，类似的还有数据库读写分离，主从互为备份等。总而言之就是把单台程序部署到多台服务器。

什么是nginx？nginx 高性能的http和反向代理服务器。可以支持大量的并发操作，同时也有很多网站试用nginx

## 为什么要使用nginx

* 跨平台，可以部署在多个平台上
* 资源消耗少。
* 配置简单，学习成本低
* 稳定性高。
* 内置的健康检查功能。
* 功能强大，可以实现http 服务器，反向代理，虚拟主机，负载均衡

## 为什么nginx 性能那么高？

因为他的事件处理机制是：异步非阻塞事件处理机制：运用了epoll模型，提供了一个队列，排队解决。

<!-- 简单的nginx 配置信息
server {
    server_name localhost;
    listen 8080;
    location / {
        root  html;
        index index.html index.htm;
    }
}
 -->

nginx 负债均衡算法。

* 轮询
* 加权轮询
* ip hash
* 最少连接方式

什么是正向代理和反向代理。

正向代理代理的是客户端，比如客户端A 希望访问服务器Server,那么他通过代理C 对Server 发起请求，得到请求结果后返回客客户端A,对于客户端A来说，实际提供服务的服务器Server 是透明的。

反向代理，代理的是服务器端。代理对于服务器端是透明的，但是对于客户端不是透明的。

使用反向代理的优点:
反向代理服务器可以隐藏源服务器的存在和特征。对于安全方面是很好的。特别是使用web托管服务的时候。

## 什么是消息队列

消息队列是一个存放消息的容器，是分布式系统中重要的组件，使用消息队列主要是为了通过异步处理提高系统性能和削峰，降低系统耦合性。目前使用较多的消息队列就是RabbitMQ,Kafka RocketMQ。

消息队列的试用场景:

* 日志处理
* 进程间通信

如何使用nginx 解决前传跨域问题，使用nginx 转发请求。把跨域的接口携程调本域的接口